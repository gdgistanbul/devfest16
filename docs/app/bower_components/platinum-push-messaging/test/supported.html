<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="manifest" href="../demo/manifest.json">
    <link rel="import" href="../platinum-push-messaging.html">
  </head>

  <body>
    <platinum-push-messaging>
    </platinum-push-messaging>

    <script>var el=document.querySelector("platinum-push-messaging");suite("Element state",function(){setup(function(e){el.disable().then(e,e)}),test("Default properties",function(){assert.isUndefined(el.subscription,"subscription"),assert.isFalse(el.enabled,"enabled"),assert.isTrue(el.supported,"supported")}),test("No worker registered",function(e){el._getRegistration().then(function(e){assert.isUndefined(e)}).then(e,e)}),test("Enable",function(e){el.enable().then(function(){assert.instanceOf(el.subscription,PushSubscription,"subscription"),assert.isTrue(el.enabled,"enabled")}).then(e,e)}),test("Disable",function(e){el.disable().then(function(){assert.isUndefined(el.subscription,"subscription"),assert.isFalse(el.enabled,"enabled")}).then(e,e)})});</script>
  

</body></html>