<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../promise-polyfill/promise-polyfill-lite.html">
<link rel="import" href="charts-loader.html">

<script>!function(){"use strict";function e(e){return google[e.startsWith("md-")?"charts":"visualization"]}var t="corechart",a={area:{ctor:"AreaChart"},bar:{ctor:"BarChart"},"md-bar":{ctor:"Bar",pkg:"bar"},bubble:{ctor:"BubbleChart"},candlestick:{ctor:"CandlestickChart"},column:{ctor:"ColumnChart"},combo:{ctor:"ComboChart"},geo:{ctor:"GeoChart"},histogram:{ctor:"Histogram"},line:{ctor:"LineChart"},pie:{ctor:"PieChart"},scatter:{ctor:"ScatterChart"},"stepped-area":{ctor:"SteppedAreaChart"},table:{ctor:"Table",pkg:"table"},timeline:{ctor:"Timeline",pkg:"timeline"},gauge:{ctor:"Gauge",pkg:"gauge"},treemap:{ctor:"TreeMap",pkg:"treemap"}},r={},n={},o={};Polymer({is:"google-chart-loader",properties:{packages:{type:Array,value:function(){return[]},observer:"_loadPackages"},type:{type:String,observer:"_loadPackageForType"}},get _corePackage(){return n[t]?n[t]:this._loadPackages([t]).then(function(e){return e[0]})},_loadPackagesDebounce:function(){this.debounce("loadPackages",function(){var e=Object.keys(r);e.length&&(r={},google.charts.load("current",{packages:e}),google.charts.setOnLoadCallback(function(){e.forEach(function(e){this.fire("loaded",e),o[e](google.visualization)}.bind(this))}.bind(this)))},100)},_loadPackages:function(e){var t=[];return e.forEach(function(e){n[e]||(r[e]=!0,n[e]=new Promise(function(t){o[e]=t}),this._loadPackagesDebounce()),t.push(n[e])}.bind(this)),Promise.all(t)},_loadPackageForType:function(r){var n=a[r];return this._loadPackages([n.pkg||t]).then(function(){return e(r)[n.ctor]})},create:function(e,t){return this._loadPackageForType(e).then(function(e){return new e(t)})},fireOnChartEvent:function(e,t,a){return this._corePackage.then(function(r){var n=a?r.events.addOneTimeListener:r.events.addListener;n(e,t,function(a){this.fire("google-chart-"+t,{chart:e,data:a})}.bind(this))}.bind(this))},dataTable:function(e){return this._corePackage.then(function(t){return null==e?new t.DataTable:e.getNumberOfRows?e:e.cols?new t.DataTable(e):e.length>0?t.arrayToDataTable(e):0===e.length?Promise.reject("Data was empty."):Promise.reject("Data format was not recognized.")})},dataView:function(e){return this._corePackage.then(function(t){return new t.DataView(e)})}})}();</script>
</head><body></body></html>