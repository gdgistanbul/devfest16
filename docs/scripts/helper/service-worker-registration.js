HOVERBOARD.ServiceWorkerRegistration=function(){"use strict";var e=!1,r="service-worker.js",t="./",n=function(){e||(e=!0,"serviceWorker"in navigator&&navigator.serviceWorker.register(r,{scope:t}).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){switch(r.state){case"installed":navigator.serviceWorker.controller||HOVERBOARD.Elements.Template.$.toast.showMessage("Caching complete! Future visits will work offline.");break;case"redundant":throw Error("The installing service worker became redundant.")}}}}).catch(function(e){HOVERBOARD.Analytics.trackError("navigator.serviceWorker.register() error",e),console.error("Service worker registration failed:",e)}))};return navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.onstatechange=function(e){if("redundant"===e.target.state){var r=function(){window.location.reload()};HOVERBOARD.Elements&&HOVERBOARD.Elements.Template&&HOVERBOARD.Elements.Template.$.toast.showMessage?HOVERBOARD.Elements.Template.$.toast.showMessage("A new version of this app is available.",r,"Refresh",null,0):r()}}),{register:n,URL:r,SCOPE:t}}();