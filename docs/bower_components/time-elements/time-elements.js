!function(){"use strict";function t(t){return("0"+t).slice(-2)}function e(t){if("Intl"in window)try{return new window.Intl.DateTimeFormat(void 0,t)}catch(t){if(!(t instanceof RangeError))throw t}}function r(e,a){var n=e.getDay(),i=e.getDate(),o=e.getMonth(),u=e.getFullYear(),m=e.getHours(),d=e.getMinutes(),c=e.getSeconds();return a.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,function(a){var l,g=a[1];switch(g){case"%":return"%";case"a":return s[n].slice(0,3);case"A":return s[n];case"b":return h[o].slice(0,3);case"B":return h[o];case"c":return e.toString();case"d":return t(i);case"e":return i;case"H":return t(m);case"I":return t(r(e,"%l"));case"l":return 0===m||12===m?12:(m+12)%12;case"m":return t(o+1);case"M":return t(d);case"p":return m>11?"PM":"AM";case"P":return m>11?"pm":"am";case"S":return t(c);case"w":return n;case"y":return t(u%100);case"Y":return u;case"Z":return l=e.toString().match(/\((\w+)\)$/),l?l[1]:"";case"z":return l=e.toString().match(/\w([+-]\d\d\d\d) /),l?l[1]:""}})}function a(t){this.date=t}function n(){if(null!==c)return c;var t=e({day:"numeric",month:"short"});if(t){var r=t.format(new Date(0));return c=!!r.match(/^\d/)}return!1}function i(){if(null!==l)return l;var t=e({day:"numeric",month:"short",year:"numeric"});if(t){var r=t.format(new Date(0));return l=!!r.match(/\d,/)}return!0}function o(t){var e=new Date;return e.getUTCFullYear()===t.getUTCFullYear()}function u(){var t,e,r;for(e=0,r=f.length;e<r;e++)t=f[e],t.textContent=t.getFormattedDate()}function m(t){var e={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}},a=n()?"weekday day month year":"weekday month day, year";for(var i in e){var o=e[i][t.getAttribute(i)];a=a.replace(i,o||"")}return a=a.replace(/(\s,)|(,\s$)/,""),r(t._date,a).replace(/\s+/," ").trim()}function d(t){var a={hour:t.getAttribute("hour"),minute:t.getAttribute("minute"),second:t.getAttribute("second")};for(var n in a)a[n]||delete a[n];if(0!==Object.keys(a).length){var i=e(a);if(i)return i.format(t._date);var o=a.second?"%H:%M:%S":"%H:%M";return r(t._date,o)}}var s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];a.prototype.toString=function(){var t=this.timeElapsed();if(t)return t;var e=this.timeAhead();return e?e:"on "+this.formatDate()},a.prototype.timeElapsed=function(){var t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24);return t>=0&&n<30?this.timeAgoFromMs(t):null},a.prototype.timeAhead=function(){var t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24);return t>=0&&n<30?this.timeUntil():null},a.prototype.timeAgo=function(){var t=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(t)},a.prototype.timeAgoFromMs=function(t){var e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24),i=Math.round(n/30),o=Math.round(i/12);return t<0?"just now":e<10?"just now":e<45?e+" seconds ago":e<90?"a minute ago":r<45?r+" minutes ago":r<90?"an hour ago":a<24?a+" hours ago":a<36?"a day ago":n<30?n+" days ago":n<45?"a month ago":i<12?i+" months ago":i<18?"a year ago":o+" years ago"},a.prototype.microTimeAgo=function(){var t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24),i=Math.round(n/30),o=Math.round(i/12);return r<1?"1m":r<60?r+"m":a<24?a+"h":n<365?n+"d":o+"y"},a.prototype.timeUntil=function(){var t=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(t)},a.prototype.timeUntilFromMs=function(t){var e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24),i=Math.round(n/30),o=Math.round(i/12);return i>=18?o+" years from now":i>=12?"a year from now":n>=45?i+" months from now":n>=30?"a month from now":a>=36?n+" days from now":a>=24?"a day from now":r>=90?a+" hours from now":r>=45?"an hour from now":e>=90?r+" minutes from now":e>=45?"a minute from now":e>=10?e+" seconds from now":"just now"},a.prototype.microTimeUntil=function(){var t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),r=Math.round(e/60),a=Math.round(r/60),n=Math.round(a/24),i=Math.round(n/30),o=Math.round(i/12);return n>=365?o+"y":a>=24?n+"d":r>=60?a+"h":r>1?r+"m":"1m"};var c=null,l=null;a.prototype.formatDate=function(){var t=n()?"%e %b":"%b %e";return o(this.date)||(t+=i()?", %Y":" %Y"),r(this.date,t)},a.prototype.formatTime=function(){var t=e({hour:"numeric",minute:"2-digit"});return t?t.format(this.date):r(this.date,"%l:%M%P")};var g,f=[],y=Object.create(window.HTMLElement.prototype);y.attributeChangedCallback=function(t,e,r){if("datetime"===t){var a=Date.parse(r);this._date=isNaN(a)?null:new Date(a)}var n=this.getFormattedTitle();n&&this.setAttribute("title",n);var i=this.getFormattedDate();i&&(this.textContent=i)},y.getFormattedTitle=function(){if(this._date){if(this.hasAttribute("title"))return this.getAttribute("title");var t=e({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"});if(t)return t.format(this._date);try{return this._date.toLocaleString()}catch(t){if(t instanceof RangeError)return this._date.toString();throw t}}};var w=Object.create(y);w.createdCallback=function(){var t=this.getAttribute("datetime");t&&this.attributeChangedCallback("datetime",null,t)},w.getFormattedDate=function(){if(this._date)return new a(this._date).toString()},w.attachedCallback=function(){f.push(this),g||(u(),g=setInterval(u,6e4))},w.detachedCallback=function(){var t=f.indexOf(this);t!==-1&&f.splice(t,1),f.length||g&&(clearInterval(g),g=null)};var v=Object.create(w);v.getFormattedDate=function(){if(this._date){var t=this.getAttribute("format");return"micro"===t?new a(this._date).microTimeAgo():new a(this._date).timeAgo()}};var M=Object.create(w);M.getFormattedDate=function(){if(this._date){var t=this.getAttribute("format");return"micro"===t?new a(this._date).microTimeUntil():new a(this._date).timeUntil()}};var p=Object.create(y);p.createdCallback=function(){var t;(t=this.getAttribute("datetime"))&&this.attributeChangedCallback("datetime",null,t),(t=this.getAttribute("format"))&&this.attributeChangedCallback("format",null,t)},p.getFormattedDate=function(){if(this._date){var t=m(this)||"",e=d(this)||"";return(t+" "+e).trim()}},window.RelativeTimeElement=document.registerElement("relative-time",{prototype:w}),window.TimeAgoElement=document.registerElement("time-ago",{prototype:v}),window.TimeUntilElement=document.registerElement("time-until",{prototype:M}),window.LocalTimeElement=document.registerElement("local-time",{prototype:p})}();